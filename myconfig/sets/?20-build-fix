### System packages & toolchain: be very conservative
@sys-boot/grub				CFLAGS: -O2 -march=native -pipe
@sys-boot/grub				LDFLAGS: -Wl,-O1

### LTO breaks quite a few packages
## LTO takes centuries to compile...
@dev-lang/llvm				CFLAGS: $-flto
@dev-lang/clang				CFLAGS: $-flto
@dev-lang/rust				CFLAGS: $-flto

## static link needs -ffat-lto-objects

## ffmpeg needs its own options (--enable-pic --enable-lto); have to modify the exlib directly
# no effect since ffmpeg doesn't use econf()
#@media/ffmpeg:6			MY__EXTRA_ECONF: --enable-pic --enable-lto

## configuring failure

## linking failure

# undefined reference
@net-libs/webkit:4.1			CFLAGS: $-flto

# undefined reference by lld
@dev-lang/zig				CFLAGS: $-flto
	@sys-devel/lld			CFLAGS: $-flto

# no symbols
@sys-libs/libgcc:13			CFLAGS: $-flto

## runtime segfault

### general
